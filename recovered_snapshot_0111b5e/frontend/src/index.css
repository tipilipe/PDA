/* --- ShipStore Sidebar Layout (corrigido) --- */
/* Removido display:none que ocultava toda a aplicação. */
/* Variáveis de layout */
:root { --ss-sidebar-width: 240px; }

body, html { margin:0; }
/* Evita rolagem horizontal causada por algum elemento mais largo */
html, body { overflow-x:hidden; }

/* Layout base */
.ss-layout { display:flex; min-height:100vh; width:100%; background:#0f1520; }
.ss-sidebar { width:var(--ss-sidebar-width); background:#141c27; color:#fff; display:flex; flex-direction:column; padding:16px 12px 12px; box-shadow:2px 0 4px rgba(0,0,0,0.4); position:sticky; top:0; height:100vh; box-sizing:border-box; }
/* Botão de fechar (mobile) */
.ss-sidebar-close { display:none; position:absolute; top:8px; right:10px; background:transparent; border:none; color:#fff; font-size:22px; cursor:pointer; line-height:1; }
.ss-brand { display:flex; align-items:center; gap:10px; padding:4px 8px 16px; }
.ss-logo { background:#2563eb; width:40px; height:40px; border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:14px; letter-spacing:.5px; }
.ss-brand-text { font-weight:600; font-size:15px; letter-spacing:.5px; color:#f1f5f9; }
.ss-nav { display:flex; flex-direction:column; gap:4px; margin-top:4px; }
.ss-nav-item { display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:8px; text-decoration:none; color:#cbd5e1; font-weight:500; font-size:14px; letter-spacing:.3px; transition:background .18s, color .18s; }
.ss-nav-item.is-active, .ss-nav-item:hover { background:#1e293b; color:#fff; }
.ss-spacer { flex:1; }
.ss-logout { margin-top:8px; display:flex; align-items:center; gap:8px; text-decoration:none; padding:10px 12px; background:#1e293b; border-radius:8px; font-weight:600; font-size:13px; color:#f8fafc; letter-spacing:.5px; justify-content:center; transition:background .18s; }
.ss-logout:hover { background:#334155; }
.ss-content { flex:1; display:flex; flex-direction:column; min-width:0; }
.ss-topbar { height:60px; border-bottom:1px solid #1f2937; background:linear-gradient(90deg,#0f172a,#132033); display:flex; align-items:center; padding:0 24px; gap:18px; position:sticky; top:0; z-index:10; }
.ss-topbar-title { font-size:15px; font-weight:600; letter-spacing:.5px; color:#f1f5f9; }
/* Removido excesso de padding lateral direito que criava borda vazia */
/* Garante que conteúdo interno não force width > viewport */
.ss-main { flex:1; padding:24px 20px 48px 24px; overflow:auto; max-width:100%; box-sizing:border-box; }

@media (max-width: 960px){
  :root{ --ss-sidebar-width: 240px; }
  .ss-layout { position:relative; }
  /* Sidebar passa a ser off-canvas */
  .ss-sidebar { position:fixed; left:0; top:0; transform:translateX(-100%); transition: transform .28s ease; z-index:2200; height:100%; width:var(--ss-sidebar-width); border-right:1px solid #1e293b; box-shadow:4px 0 16px rgba(0,0,0,0.45); }
  .ss-sidebar.is-open { transform:translateX(0); }
  .ss-sidebar-close { display:block; }
  .ss-backdrop { position:fixed; inset:0; background:rgba(0,0,0,0.5); backdrop-filter:saturate(40%) blur(2px); z-index:2100; }
  .ss-topbar { padding-left:12px; }
  .ss-topbar-title { font-size:14px; }
  .ss-nav-item span { font-size:14px; }
  .ss-content { width:100%; }
}

@media print{
  .ss-sidebar,.ss-topbar{ display:none !important; }
  .ss-content{ margin-left:0 !important; }
  .ss-main{ padding:0 !important; }
}

/* Paleta corporativa e tokens base */
:root {
  --color-primary: #2b6cb0;
  --color-primary-hover: #2c5282;
  --color-secondary: #667085;
  --color-secondary-hover: #475467;
  --color-danger: #b42318;
  --color-danger-hover: #912018;
  --color-success: #027a48;
  --color-success-hover: #05603a;
  --color-warning: #b54708;
  --color-warning-hover: #93370d;
  --color-light: #f9fafb;
  --color-dark: #101828;
  --color-border: #2a3448;
  --btn-radius: 6px;
  --btn-shadow: 0 1px 2px rgba(16,24,40,0.06);
}

/* Tema global */
body, html, #root {
  min-height: 100vh;
  background: var(--mui-background, #181f2a);
  color: var(--mui-text, #fff);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  font-size: 14px;
  line-height: 1.45;
  transition: background 0.2s, color 0.2s;
}

/* Cards de conteúdo claros */
.card-action-area { color: #222; }
.card-action-area h2, .card-action-area h3, .card-action-area h4 { color: #222; }
.card-action-area table { color: #222; }

/* Pré-visualização da PDA (espelho) em tela */
.printable-area {
  background: #fff;
  color: #000;
  padding: 24px;
  border-radius: 12px;
  box-shadow: 0 2px 16px rgba(0,0,0,0.08);
  max-width: 1100px;
  margin: 0 auto 40px;
}
.printable-area * { color: inherit; }

/* Botões padronizados */
.btn, .header-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: var(--btn-radius);
  border: 1px solid transparent;
  background: var(--color-primary);
  color: #fff;
  font-family: inherit;
  font-weight: 600;
  font-size: 0.92rem;
  text-decoration: none;
  cursor: pointer;
  transition: background .18s ease, color .18s ease, border-color .18s ease, box-shadow .18s ease, transform .02s ease;
  box-shadow: var(--btn-shadow);
  user-select: none;
}

.btn:hover, .header-btn:hover { background: var(--color-primary-hover); color: #fff; }
.btn:active, .header-btn:active { transform: translateY(0.5px); }
.btn:focus-visible, .header-btn:focus-visible { outline: 3px solid rgba(43,108,176,0.35); outline-offset: 2px; }
.btn:disabled, .header-btn:disabled { opacity: .65; pointer-events: none; }

/* Variantes */
.btn-primary, .header-btn { background: var(--color-primary); border-color: var(--color-primary); color: #fff; }
.btn-primary:hover, .header-btn:hover { background: var(--color-primary-hover); border-color: var(--color-primary-hover); }

.btn-secondary { background: var(--color-secondary); border-color: var(--color-secondary); color: #fff; }
.btn-secondary:hover { background: var(--color-secondary-hover); border-color: var(--color-secondary-hover); }

.btn-danger { background: var(--color-danger); border-color: var(--color-danger); color: #fff; }
.btn-danger:hover { background: var(--color-danger-hover); border-color: var(--color-danger-hover); }

.btn-success { background: var(--color-success); border-color: var(--color-success); color: #fff; }
.btn-success:hover { background: var(--color-success-hover); border-color: var(--color-success-hover); }

.btn-outline-primary { background: transparent; color: var(--color-primary); border-color: var(--color-primary); }
.btn-outline-primary:hover { background: rgba(43,108,176,.10); color: #fff; border-color: var(--color-primary-hover); }

.btn-outline-danger { background: transparent; color: var(--color-danger); border-color: var(--color-danger); }
.btn-outline-danger:hover { background: rgba(180,35,24,.10); color: #fff; border-color: var(--color-danger-hover); }

.btn-link { background: transparent; border-color: transparent; color: var(--color-primary); box-shadow: none; padding-left: 0; padding-right: 0; }
.btn-link:hover { text-decoration: underline; background: transparent; }

/* Tamanhos */
.btn-sm { padding: 6px 10px; font-size: 0.8rem; border-radius: 6px; }
.btn-lg { padding: 12px 18px; font-size: 1rem; border-radius: 10px; }
.btn-block { width: 100%; display: inline-flex; }

/* Estado ativo no menu */
.header-btn.active { background: var(--color-primary-hover) !important; color: #fff !important; border-bottom: 2px solid #fff; box-shadow: none; z-index: 1; }

/* Header fixo */
header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  z-index: 1000;
  box-shadow: 0 1px 2px rgba(16,24,40,0.06);
  background: var(--mui-background-paper, #232b3e) !important;
  color: var(--mui-text, #fff) !important;
  font-family: inherit;
  padding: 0;
  display: flex;
  align-items: center;
  height: 64px;
}

header h1 { font-family: inherit; font-size: 1.25rem; font-weight: 600; letter-spacing: .2px; margin: 0; color: #e2e8f0; padding: 16px 24px 0 24px; }
/* Botão hambúrguer */
.ss-mobile-trigger { display:none; margin-right:12px; background:#1e293b; border:1px solid #233044; color:#fff; padding:6px 10px; font-size:18px; line-height:1; border-radius:6px; cursor:pointer; }
.ss-mobile-trigger:hover { background:#2a3b55; }
@media (max-width: 960px){ .ss-mobile-trigger { display:inline-flex; } }

/* Navegação */
nav a, nav a:visited {
  color: var(--mui-primary, #6ec1e4) !important;
  font-family: inherit;
  font-size: 0.95rem;
  font-weight: 500;
  padding: 8px 12px;
  border-radius: 6px;
  margin: 0 2px;
  transition: background 0.18s, color 0.18s;
  text-decoration: none;
  display: inline-block;
}

nav a:hover, nav a.active { background: #22304a; color: #fff !important; text-shadow: none; }

/* Links com aparência de botão no header */
nav a.header-btn { color: #fff !important; padding: 8px 12px; }
nav a.header-btn:hover, nav a.header-btn.active { background: var(--color-primary-hover) !important; color: #fff !important; text-shadow: none; }

/* Seções e inputs temáticos */
.themed-section {
  background: var(--mui-background-paper, #232b3e);
  color: var(--mui-text, #fff);
  border-radius: 10px;
  padding: 18px;
  margin-bottom: 24px;
}

.themed-input, .themed-section input, .themed-section select, .themed-section textarea {
  background: var(--mui-background-paper, #232b3e);
  color: var(--mui-text, #fff);
  border: 1px solid #334155;
  border-radius: 6px;
  padding: 8px 10px;
  margin-right: 8px;
  margin-bottom: 8px;
  font-size: 0.95rem;
  transition: background 0.2s, color 0.2s, border-color 0.2s;
}

/* Inputs quando usados em cartões claros */
.card-action-area .themed-input {
  background: #fff;
  color: #111;
  border-color: #d0d5dd;
}
.card-action-area .themed-input::placeholder { color: #667085; }
.card-action-area .themed-input:focus { outline: 2px solid #84caff; outline-offset: 1px; }

.themed-input:focus,
.themed-section input:focus,
.themed-section select:focus,
.themed-section textarea:focus {
  outline: 2px solid rgba(100,116,139,.6);
  outline-offset: 1px;
}

/* Ajuste para o conteúdo não ficar atrás do header/nav fixos */
/* Ajuste: remove padding horizontal extra para evitar "borda" vazia direita */
main { margin-top: 24px !important; padding: 0 8px 0 12px !important; }

@media print {
  main { margin: 0 !important; padding: 0 !important; }
}

/* Margens de botões no menu */
.header-btn { margin-right: 6px; margin-bottom: 0; }
.header-btn.sair { margin-left: 32px !important; margin-right: 12px !important; }
.header-btn { transition: background 0.18s, color 0.18s, box-shadow 0.18s; }

/* Responsivo */
@media (max-width: 700px) {
  header h1 { font-size: 1.2rem; }
  nav a { font-size: 0.95rem; padding: 8px 8px; }
  main { margin-top: 100px !important; }
}

/* Impressão */
@media print {
  @page { size: A4; margin: 14mm 16mm; }
  html, body { background:#fff !important; color:#000 !important; margin:0 !important; }
  /* Esconde apenas a área de aplicação navegável marcada */
  .no-print, .ss-sidebar, .ss-topbar, header, nav { display:none !important; }
  /* Mantém printable-area visível sem alterar visibilidade global */
  .printable-area { box-shadow:none !important; border-radius:0 !important; padding:0 !important; margin:0 !important; max-width:100% !important; }
  .print-wrapper { display:block !important; }
  .printable-pda { page-break-inside:avoid; }
}

/* Tipografia base mais corporativa */
h1, h2, h3, h4, h5 { font-weight: 600; line-height: 1.3; }
p, label, input, select, textarea, button { font-weight: 400; }

/* ================= PDA PAGE RESPONSIVE ENHANCEMENTS ================= */
.pda-layout { display:flex; gap:32px; max-width:1450px; margin:0 auto; align-items:flex-start; padding:0 12px; box-sizing:border-box; width:100%; }
.pda-main { flex:3; min-width:0; }
.pda-side { flex:1; min-width:260px; }
.pda-title { margin:0; font-weight:700; font-size:clamp(1.05rem, 2.1vw + .4rem, 1.5rem); line-height:1.25; }
/* Generic application card (reusable outside PDA page) */
.pda-card, .app-card { background:#fff; border-radius:18px; box-shadow:0 2px 16px 0 rgba(0,0,0,0.10); padding:30px 30px 22px; border:none; }
/* Compact agora mantém o mesmo alinhamento lateral para ficar visualmente alinhado */
.pda-card--compact { padding:30px 30px 22px; }
.pda-form-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:16px; align-items:end; margin-top:24px; }
.pda-form-grid .themed-input, .pda-form-grid select { width:100%; box-sizing:border-box; margin:0; }
.pda-form-grid > * { min-width:0; }
.pda-date-field .themed-input { width:100%; margin:0; }
.pda-date-field { display:flex; flex-direction:column; gap:4px; }
.pda-date-field label { font-size:.7rem; font-weight:600; letter-spacing:.5px; color:#222; }
.pda-table-wrapper { overflow-x:auto; }
.pda-table-wrapper table { font-size:.85rem; }
.pda-table-wrapper table th,
.pda-table-wrapper table td { font-size:.82rem; line-height:1.25; }
.pda-table-wrapper table td input.themed-input { font-size:.8rem; padding:4px 4px; }
.pda-table-wrapper table td:nth-child(3),
.pda-table-wrapper table td:nth-child(4),
.pda-table-wrapper table th:nth-child(3),
.pda-table-wrapper table th:nth-child(4) {
  font-variant-numeric: tabular-nums; /* alinhamento consistente */
  white-space: nowrap;
}
.pda-table-wrapper table td { vertical-align: middle; }

@media (max-width: 780px){
  .pda-table-wrapper table th,
  .pda-table-wrapper table td { font-size:.74rem; }
  .pda-table-wrapper table td input.themed-input { font-size:.72rem; }
}
@media (max-width: 560px){
  .pda-table-wrapper table th,
  .pda-table-wrapper table td { font-size:.70rem; }
  .pda-table-wrapper table td input.themed-input { font-size:.68rem; }
  /* Reduz espaço lateral para caber melhor */
  .pda-table-wrapper table th, .pda-table-wrapper table td { padding:6px 6px !important; }
  /* Opcional: esconde título da coluna ACTION e mantém botão */
  .pda-table-wrapper table th:last-child { font-size:0; }
}
@media (max-width: 420px){
  .pda-table-wrapper table th,
  .pda-table-wrapper table td { font-size:.66rem; }
  .pda-table-wrapper table td input.themed-input { font-size:.64rem; }
}
.pda-actions-wrap { margin-top:24px; display:flex; align-items:center; gap:20px; flex-wrap:wrap; }

/* Side card (LAST SAVED PDAs) refinements */
.pda-side table { font-size:.8rem; }
.pda-side table th, .pda-side table td { padding:8px 8px; }
.pda-side h3 { font-size:clamp(.9rem, 1vw + .5rem, 1.05rem); letter-spacing:.5px; }
@media (max-width:780px){
  .pda-side table { font-size:.75rem; }
  .pda-side table th, .pda-side table td { padding:6px 6px; }
}
@media (max-width:560px){
  .pda-side table { font-size:.72rem; }
}

@media (max-width: 1200px){
  .pda-layout { gap:24px; }
  .pda-card, .pda-card--compact, .app-card { padding:26px 26px 20px; }
}
@media (max-width: 1024px){
  .pda-layout { flex-direction:column; }
  .pda-side { order:2; width:100%; }
  .pda-main { order:1; width:100%; }
}
@media (max-width: 780px){
  .pda-form-grid { grid-template-columns:repeat(auto-fill,minmax(150px,1fr)); gap:14px; }
  .pda-card, .pda-card--compact, .app-card { padding:22px 22px 18px; }
  .pda-table-wrapper table { font-size:.78rem; }
  .pda-actions-wrap .header-btn { padding:6px 10px; font-size:.72rem; }
  .pda-form-grid .themed-input, .pda-form-grid select { font-size:.75rem; padding:6px 8px; }
  .pda-title { font-size:clamp(1rem, 2.4vw + .4rem, 1.35rem); }
}
@media (max-width: 520px){
  .pda-form-grid { grid-template-columns:repeat(auto-fill,minmax(130px,1fr)); gap:12px; }
  .pda-actions-wrap { gap:12px; }
  .pda-actions-wrap fieldset { width:100%; }
  .pda-side table th, .pda-side table td { padding:8px 6px !important; }
}
@media (max-width: 420px){
  .pda-form-grid { grid-template-columns:repeat(auto-fill,minmax(110px,1fr)); }
  .pda-card, .pda-card--compact, .app-card { padding:18px 18px 16px; }
  .pda-table-wrapper table { font-size:.72rem; }
}
/* ===================================================================== */
/* Printable PDA responsiveness */
.printable-pda { overflow:hidden; }
.printable-pda table { word-wrap:break-word; }
@media (max-width: 780px){
  .printable-pda { font-size:8.2pt; }
  .printable-pda h1 { font-size:14pt !important; }
  .printable-pda h2 { font-size:11pt !important; }
  .printable-pda h3 { font-size:9.5pt !important; }
  .printable-pda table { font-size:8pt !important; }
  .printable-pda table th, .printable-pda table td { padding:3px !important; }
}
@media (max-width: 560px){
  .printable-pda { font-size:7.6pt; }
  .printable-pda table { font-size:7.2pt !important; }
  .printable-pda table th, .printable-pda table td { padding:2px 3px !important; }
  .printable-pda .pda-scroll-wrap { overflow-x:auto; -webkit-overflow-scrolling:touch; }
  .printable-pda .pda-scroll-inner { min-width:520px; }
}
@media (max-width: 420px){
  .printable-pda { font-size:7pt; }
  .printable-pda table { font-size:6.8pt !important; }
  .printable-pda table th, .printable-pda table td { padding:2px !important; }
}
/* Ajustes de contraste após refatoração (substitui .card-action-area) */
.pda-card, .app-card { color:#222; }
.pda-card h1, .pda-card h2, .pda-card h3, .pda-card h4, .pda-card h5,
.app-card h1, .app-card h2, .app-card h3, .app-card h4, .app-card h5 { color:#222; }
.pda-card table, .app-card table { color:#222; }
.pda-card .themed-input, .app-card .themed-input { background:#fff; color:#111; border-color:#d0d5dd; }
.pda-card .themed-input::placeholder, .app-card .themed-input::placeholder { color:#667085; }
.pda-card .themed-input:focus, .app-card .themed-input:focus { outline:2px solid #84caff; outline-offset:1px; }
.pda-card .pda-table-wrapper input, .app-card .table-responsive input { color:#111 !important; }
.pda-card .pda-table-wrapper td, .pda-card .pda-table-wrapper th,
.app-card .table-responsive td, .app-card .table-responsive th { color:#222; }

/* Generic form grid (ships, clients, etc.) */
.app-form-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:16px; align-items:end; margin-top:24px; }
.app-form-grid .themed-input, .app-form-grid select { width:100%; margin:0; box-sizing:border-box; }
@media (max-width: 780px){ .app-form-grid { grid-template-columns:repeat(auto-fill,minmax(150px,1fr)); gap:14px; } }
@media (max-width: 520px){ .app-form-grid { grid-template-columns:repeat(auto-fill,minmax(130px,1fr)); gap:12px; } }
@media (max-width: 420px){ .app-form-grid { grid-template-columns:repeat(auto-fill,minmax(110px,1fr)); } }

/* Generic table wrapper */
.table-responsive { overflow-x:auto; }
.table-basic { width:100%; border-collapse:separate; border-spacing:0; background:#f8fafd; border-radius:10px; box-shadow:0 1px 4px 0 rgba(0,0,0,0.04); }
.table-basic thead tr { background:#e3eafc; }
.table-basic th { padding:10px 8px; font-weight:600; text-align:left; }
.table-basic td { padding:10px 8px; font-weight:500; }
@media (max-width:780px){ .table-basic th, .table-basic td { padding:8px 6px; font-size:.8rem; } }
@media (max-width:560px){ .table-basic th, .table-basic td { padding:6px 6px; font-size:.74rem; } }
@media (max-width:420px){ .table-basic th, .table-basic td { padding:6px 4px; font-size:.7rem; } }
/* fallback para tema escuro caso queira inverter depois
@media (prefers-color-scheme: dark){
  .pda-card.dark-mode { background:#1f2937; color:#f1f5f9; }
}
*/

/* ================= ADMIN PAGE LAYOUT (light-touch, keeps themed-section) ================= */
.admin-user-create-form, .admin-company-create-form, .admin-inline-form { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
.admin-panels { display:grid; grid-template-columns:320px 1fr; gap:24px; }
@media (max-width: 920px){ .admin-panels { grid-template-columns:1fr; } }
.admin-user-list { display:flex; flex-direction:column; gap:8px; max-height:520px; overflow-y:auto; padding-right:4px; }
.admin-user-item { padding:10px; border-radius:8px; cursor:pointer; transition:background .15s ease; }
.admin-user-item:hover { background:#2c3650; }
.admin-user-item.is-active { background:#2c3650; }
.admin-user-item-name { font-weight:700; }
.admin-user-item .meta { opacity:.78; font-size:12px; }
.admin-user-item .meta2 { opacity:.6; font-size:12px; }
.admin-perms { display:flex; gap:14px; flex-wrap:wrap; }
.admin-actions { display:flex; gap:12px; flex-wrap:wrap; margin-top:8px; }
.admin-reset { margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
.admin-section-title { margin-top:0; }
@media (max-width:600px){
  .admin-actions button { flex:1 1 auto; }
  .admin-reset button { width:100%; }
}
/* =================================================================== */